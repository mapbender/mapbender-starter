parameters:
    applications:
        mapbender_digitize_demo:
            title: Mapbender Digitize Demo
            screenshot: ~
            description: Try the Mapbender Digitize Demo with the Tables defined in the documentation (https://doc.mapbender.org/en/functions/editing/digitizer/digitizer_configuration.html#sql-for-the-demo-tables) or with the PostgreSQL database backup in the workshop repository (https://github.com/mapbender/mapbender-workshop/geobasis.backup).
            published: true
            persistentView: false             
            template:  Mapbender\CoreBundle\Template\Fullscreen
            regionProperties:
              - name: sidepane
                properties:
                  name: accordion
            layersets:
                main:
                    mapbender_users:
                        class: Mapbender\WmsBundle\Entity\WmsInstance
                        title: Mapbender Users
                        url: https://wms.wheregroup.com/cgi-bin/mapbender_user.xml
                        version: 1.3.0
                        layers:
                            10: { name: Mapbender_User,    title : User, visible: true, legendurl: https://wms.wheregroup.com/cgi-bin/mapbender_user.xml?version=1.3.0&service=WMS&request=GetLegendGraphic&sld_version=1.1.0&layer=Mapbender_User&format=image/png&STYLE=default }
                            22: { name: Mapbender_Names,   title : Name, visible: true, queryable: true}
                        info_format: text/html
                        visible: true
                        format: image/png
                        transparent: true
                        tiled: false
                        opacity: 85
                        basesource: false
                    osm:
                        class: Mapbender\WmsBundle\Entity\WmsInstance
                        title: OSM Demo
                        url: https://osm-demo.wheregroup.com/service
                        version: 1.3.0
                        layers:
                            30: { name: osm,    title : Germany OSM Demo WhereGroup,  visible: true }
                        info_format: text/html
                        visible: true
                        format: image/png
                        transparent: true
                        tiled: true
                        opacity: 100
                        basesource: false
                overview:
                    osm_overview:
                        class: Mapbender\WmsBundle\Entity\WmsInstance
                        title: OSM Demo
                        url: https://osm-demo.wheregroup.com/service
                        version: 1.3.0
                        layers:
                            40: { name: osm,    title : Germany OSM Demo WhereGroup,  visible: true }
                        tiled: false
                        format: image/png
                        transparent: true
                        visible: true
                        opacity: 100
            elements:
                toolbar:
                    html-application:
                        title: 'HTML About Mapbender'
                        class: Mapbender\CoreBundle\Element\HTMLElement
                        classes: html-element-inline
                        content: "{{ application.title }}"

                    fi-button:
                        title: mb.core.featureinfo.class.title
                        tooltip: mb.core.featureinfo.class.title
                        class: Mapbender\CoreBundle\Element\Button
                        icon: iconInfoActive
                        label: true
                        target: featureinfo
                        group: featureinfo
                    print-button:
                        title: mb.core.printclient.class.title
                        tooltip: mb.core.printclient.class.title
                        class: Mapbender\CoreBundle\Element\Button
                        label: false
                        icon: iconPrint
                        target: printclient
                    imageexport-button:
                        title: mb.print.imageexport.class.title
                        tooltip: mb.print.imageexport.class.title
                        class: Mapbender\CoreBundle\Element\Button
                        label: false
                        icon: iconImageExport
                        target: imageexport
                    legend-button:
                        title: mb.core.legend.class.title
                        tooltip: mb.core.legend.class.title
                        class: Mapbender\CoreBundle\Element\Button
                        label: false
                        target: legend
                        icon: iconLegend
                    wmsloader-button:
                        title: mb.wms.wmsloader.class.title
                        tooltip: mb.wms.wmsloader.class.description
                        class: Mapbender\CoreBundle\Element\Button
                        label: false
                        target: wmsloader
                        icon: iconWms
                    linerulerButton:
                        title: mb.core.ruler.tag.measure
                        tooltip: mb.core.ruler.tag.line
                        class: Mapbender\CoreBundle\Element\Button
                        icon: icon-line-ruler
                        label: false
                        target: lineruler
                        group: rulers
                    arearulerButton:
                        title: mb.core.ruler.tag.measure
                        tooltip: mb.core.ruler.tag.area
                        class: Mapbender\CoreBundle\Element\Button
                        icon: icon-area-ruler
                        label: false
                        target: arearuler
                        group: rulers

                    poiButton:
                        title: mb.core.poi.class.title
                        tooltip: mb.core.poi.class.description
                        class: Mapbender\CoreBundle\Element\Button
                        icon: iconPoi
                        label: false
                        target: poi

                content:
                    map:
                        title: mb.core.map.class.title
                        class: Mapbender\CoreBundle\Element\Map
                        layersets: [main]
                        srs: EPSG:25832
                        extents:
                            start: [361000,5619000,371150,5625000]
                            max: [-500000,4350000,1600000,6850000]
                        scales: [5000000,1000000,500000,100000,50000,25000,10000,7500,5000,2500,1000,500,250,100,50]
                        otherSrs: ["EPSG:25833","EPSG:31466","EPSG:31467","EPSG:3857","EPSG:4326"]

                    zoombar:
                        class: Mapbender\CoreBundle\Element\ZoomBar
                        target: map
                        components:
                            - rotation
                            - zoom_max
                            - zoom_in_out
                            - zoom_slider
                            - zoom_home
                        anchor: right-top
                        draggable: false

                    legend:
                        class: Mapbender\CoreBundle\Element\Legend
                        target: map
                        title: mb.core.legend.class.title
                        elementType: dialog
                        autoOpen: false
                        displayType: list
                        showWmsTitle: true
                        showLayerTitle: true
                        showGroupedLayerTitle: true

                    featureinfo:
                        class: Mapbender\CoreBundle\Element\FeatureInfo
                        title: mb.core.featureinfo.class.title
                        target: map
                        deactivateOnClose: false
                        onlyValid: true
                        type: dialog
                        displayType: tabs
                        autoActivate: false
                        printResult: true
                        width: 500
                        height: 500

                    wmsloader:
                        title: mb.wms.wmsloader.class.title
                        class: Mapbender\WmsBundle\Element\WmsLoader
                        target: map
                        autoOpen: false
                        defaultFormat: 'image/png'
                        defaultInfoFormat: 'text/html'
                        splitLayers: false

                    imageexport:
                        class: Mapbender\PrintBundle\Element\ImageExport
                        target: map
                        title: Image export

                    printclient:
                        title: mb.core.printclient.class.title
                        class: Mapbender\CoreBundle\Element\PrintClient
                        target: map
                        file_prefix: mapbender
                        templates:
                            - { template: a4_portrait_offical, label: A4 Portrait (official)}
                            - { template: a4_landscape_offical, label: A4 Landscape (official)}
                            - { template: a4portrait, label: A4 Portrait}
                            - { template: a4landscape, label: A4 Landscape}
                            - { template: a3portrait, label: A3 Portrait}
                            - { template: a3landscape, label: A3 Landscape}
                            - { template: a4_portrait_official_feature_data_demo, label: A4 Print with Feature Data}
                        scales: [500, 1000, 5000, 10000, 25000, 50000]
                        quality_levels:
                            - { dpi: 72 , label: Draft (72dpi)}
                            - { dpi: 288,  label: Document (288dpi)}
                        rotatable: true
                        legend: true
                        legend_default_behaviour: false
                        optional_fields:
                            title:
                                label: Title              # label of the optional field
                                options:                  #
                                    required: true        # true or false

                    lineruler:
                        title: mb.core.ruler.tag.line
                        tooltip: 'ruler'
                        class: Mapbender\CoreBundle\Element\Ruler
                        target: map
                        type: line

                    arearuler:
                        title: mb.core.ruler.tag.area
                        tooltip: 'area'
                        class: Mapbender\CoreBundle\Element\Ruler
                        target: map
                        type: area

                    scalebar:
                        class: Mapbender\CoreBundle\Element\ScaleBar
                        target: map
                        anchor: 'left-bottom'
                        position: ['10px', '10px']
                        maxWidth: 200
                        units: km
                    overview:
                        title: mb.core.overview.class.title
                        class: Mapbender\CoreBundle\Element\Overview
                        target: map
                        layerset: overview
                        width: 200
                        height: 100
                        anchor: 'right-bottom'
                        maximized: true
                        fixed: false

                    scaledisplay:
                        title: mb.core.scaledisplay.class.title
                        class: Mapbender\CoreBundle\Element\ScaleDisplay
                        target: map
                        anchor: left-top
                        scalePrefix: Scale
                        unitPrefix: true

                    poi:
                        title: mb.core.poi.class.title
                        class: Mapbender\CoreBundle\Element\POI
                        target: map
                        body: 'Please take a look at this POI'
                        useMailto: false

                sidepane:
                    digitizer:
                        title: Digitizer
                        class: Mapbender\DigitizerBundle\Element\Digitizer
                        target: map
                        schemes:
                            # combine_schemes_together:
                            #     label: combine schemes (in this case poi and line)
                            #     searchType: currentExtent # Initial state of checkbox for limiting feature loading to current visible map portion. [all / currentExtent] (default: currentExtent).
                            #     combine:
                            #         - poi
                            #         - line
                            #     # roles: #Show this schema only to users with (at least one of) these roles
                            #     #    - root
                            #     #    - ROLE_GROUP_EDITING

                            poi:
                                label: 'point digitizing'
                                maxResults: 500 # only load limited number of feature
                                zoomBuffer: 100
                                #filterUser: true
                                #trackUser: true
                                #featureType: poi # you can define a featureType in your parameters.yaml and refer to the name in the configuration
                                featureType:
                                    connection: geodata_db
                                    table: poi
                                    uniqueId: gid
                                    geomType: point
                                    geomField: geom
                                    srid: 4326
                                    filter: ~
                                    #filter: gid < 10000'
                                    #filter: 'user_name = :userName' # use trackUser instead
                                    #userColumn: user_name
                                    styleField: style
                                    #events:
                                    #    onBeforeSave: $feature->setAttribute('abstract', 'MAPS'); $feature->setAttribute('user_name', $user ); $feature->setAttribute('group_name', implode(',', $userRoles));
                                allowCustomStyle: true
                                allowChangeVisibility: true # Offer buttons to toggle feature visibility (default true)
                                allowCreate: true   # Allow new feature generation (default true)
                                allowDelete: true   # Allow geometry deletion (default true)
                                allowDigitize: true # Allow geometry creation and editing (default true)
                                allowEditData: true # Allow attribute editing (default true)
                                allowRefresh: true # Offer button to reload data (for tables frequently modified by concurrent users) (default false)

                                continueDrawingAfterSave: true # Keep drawing tool active after creating and saving a new feature (~fast batch mode feature creation) (default false)

                                displayPermanent: true # Keep features visible on map even after switching to a different schema (default false)
                                displayOnInactive: true # Keep features visible on map even after deactivating Digitizer (default false)

                                refreshLayersAfterFeatureSave:
                                    - mapbender_users # or WMS InstanceID

                                # Table
                                inlineSearch: true # Enables display filtering by search term (default true)
                                searchType: currentExtent # Initial state of checkbox for limiting feature loading to current visible map portion. [all / currentExtent] (default: currentExtent).
                                paging: true # De/activate paging in table (default true)
                                pageLength: 5 # Limits the number of rows per page in table (default 16)

                                printable: true
                                # roles: #Show this schema only to users with (at least one of) these roles
                                #    - root
                                #    - ROLE_GROUP_EDITING

                                copy:
                                    enable: true
                                    overwriteValuesWithDefault: true
                                    data:
                                        firstname: 'Paul' # every copied feature will get firstname Paul
                                        lastname: 'Meier' # every copied feature will get lastname Meier

                                toolset:
                                    -
                                        type: drawPoint
                                    -
                                        type: moveFeature
                                    -
                                        type: selectFeature


                                popup:
                                    title: 'point test suite' # Popup title text
                                    width: 500px
                                    #width: 50vw   # half screen width
                                    #modal: true # Everything except the form window is grayed out and the position and size of the window is fixed for the duration of the data collection.
                                    #position: {at: "left+200px",  my: "left top-460px"}  # Position of the popup in the browser area
                                styles:
                                    default:
                                        strokeWidth: 3
                                        strokeColor: "#00ff00"
                                        fillColor:   ${fill_color}
                                        fillOpacity: 0.9
                                        strokeOpacity: 0.8
                                        pointRadius: 10
                                        label: ${name}
                                        fontColor: black
                                        fontSize: 12
                                        fontFamily: 'Arial, Courier New, monospace'
                                        fontWeight: bold
                                        labelOutlineColor: yellow
                                        labelOutlineWidth: 1
                                        labelYOffset: -18
                                        labelXOffset: -18
                                        graphic: true
                                        externalGraphic: 'https://schulung.foss.academy/symbols/${symbol}.png'
                                        graphicWidth: 30
                                        graphicHeight: 30
                                    select:
                                        strokeWidth: 3
                                        strokeColor: "#00ffff"
                                        fillColor:   "#FF00ff"
                                        fillOpacity: 0.5
                                        pointRadius: 6
                                        label: ${gid}
                                        fontColor: green
                                        fontSize: 18
                                        labelOutlineColor: blue
                                        labelOutlineWidth: 2
                                        labelYOffset: 18
                                        labelXOffset: -18
                                    unsaved:
                                        strokeWidth: 3
                                        strokeColor: "#f0f0f0"
                                        fillColor:   "#ffffff"
                                        fillOpacity: 0.5
                                        pointRadius: 6
                                        label: 'Please save'
                                        fontColor: red
                                        fontSize: 18
                                        labelOutlineColor: #ff00ff
                                        labelOutlineWidth: 3
                                        labelYOffset: -18
                                        labelXOffset: 18

                                tableFields:
                                    gid:
                                        label: Nr.
                                        width: 20%
                                    name:
                                        label: Name
                                        width: 80%

                                formItems:
                                    -
                                        type: tabs
                                        children:
                                            -
                                                title: '1. Basic information'
                                                css:
                                                    padding: 10px
                                                children:
                                                    -
                                                        type: label
                                                        title: 'Welcome to the digitize demo. Try the new Mapbender feature!'
                                                        #css:
                                                        #    color: red
                                                    -
                                                        type: html
                                                        html: '<b>Read more at the </b><a href="https://mapbender.org" target="_blank">Mapbender-Website</a></br>'
                                                    # -
                                                    #     type: div
                                                    #     text: dies ist ein div
                                                    # -
                                                    #     type: span
                                                    #     text: dies ist ein span

                                                    # -
                                                    #     type: p
                                                    #     text: dies ist ein p
                                                    -
                                                        type: text
                                                        title: user_name
                                                        text: data.user_name
                                                    -
                                                        type: input   # Type of form input field
                                                        title: Name   # Label text for form input field
                                                        name: name
                                                        #value: 'A place to be' # Initial field value on newly created items

                                                        copyClipboard: true
                                                        infoText: 'Info: Please give a name to the new object.' # Explanatory text placed in a tooltip next to the label
                                                        mandatoryText: 'Mandatory Field: Please give a name to the poi.'
                                                        required: true
                                                        #mandatory: true #DEPRECATED please use required: true instead
                                                        css:
                                                            color: green
                                                        #cssClass: myClass # Added to the class attribute of the form group (container around label and input)
                                                        attr:
                                                            placeholder: 'Please give a name to the poi.' # placeholder. Text is not saved
                                                            #pattern: '\w{2}\d{3,}' # Two letters followed by at least three digits
                                                    -
                                                        type: input
                                                        title: Title
                                                        reuqired: false
                                                        name: title

                                                    -
                                                        type: textArea
                                                        name: abstract
                                                        title: Abstract
                                                        mandatoryText: 'This field is mandatory'
                                                        required: true
                                                        attr:
                                                            placeholder: 'Please write an abstract'
                                                            rows: 3

                                                    # -   type: text
                                                    #     title: Show text from textarea with line wrap
                                                    #     text: |
                                                    #           data.abstract
                                                    #     css:
                                                    #         color: green
                                                    -
                                                        type: select
                                                        select2: true # activates full text search for the select box (please not for multi: true full text search is activated by default)
                                                        title: Type
                                                        name: type
                                                        infoText: 'Help: Please choose a type.'
                                                        mandatoryText: 'Please give a name to the new object.'
                                                        required: true
                                                        maximumSelectionLength: 2 # maximum number of possible selections for multi-select
                                                        attr:
                                                            multiple: true
                                                        # options:
                                                        #     '': 'Please select a type...'
                                                        #     'A': 'Type A'
                                                        #     'B': 'Type B'
                                                        #     'C': 'Type C'
                                                        #     'D': 'Type D'
                                                        options:
                                                            - label: 'Please select a type...'
                                                              value: ''
                                                            # - label: 'Type A'
                                                            #   value: 'A'
                                                            # - label: 'Type B'
                                                            #   value: 'B'
                                                            # - label: 'Type C'
                                                            #   value: 'C'
                                                            # - label: 'Type D'
                                                            #   value: 'D'
                                                            #- label: 'Type E (disabled)'
                                                            #  value: 'E'
                                                            #  attr:
                                                            #      disabled: disabled
                                                        #value: A,C   # use comma-separated values for default multi-select value
                                                        connection: geodata_db
                                                        sql: SELECT type_name, type_id FROM types ORDER BY type_id ASC;
                                                    -
                                                        type: breakLine

                                                    -   type: text    # type to generate dynamic text
                                                        title: 'Mapbender user/group'   # label (optional)
                                                        #text: |
                                                        #        data.name  #+ ' ' + data.firstname + ' ' + data.lastname + ' Email:' + data.email
                                                        #text: "'user: ' + data.user_name + ' group:' + data.group_name"
                                                        text: |
                                                              'user: ' + data.user_name + ' group:' + data.group_name
                                                    #-   type: text     # Typ text zur Generierung von dynamischen Texten aus der Datenbank
                                                    #    title: 'Text with function type:text'   # Beschriftung (optional)
                                                        # text: |
                                                        #       (function(){ var result = '';
                                                        #                   if(data.user_name){
                                                        #                       result += 'user: ' + data.user_name;
                                                        #                   }else{
                                                        #                       result += 'user: -' ;
                                                        #                   }
                                                        #                   if(data.user_group){
                                                        #                       result += ' group: ' + data.group_name;
                                                        #                   }else{
                                                        #                       result += ' group: -' ;
                                                        #                   }
                                                        #                   return result;})()

                                                    -   type: radioGroup
                                                        title: Radiobuttons - Choose one
                                                        name: category # column
                                                        options:
                                                            - label: Category 1
                                                              value: c1
                                                            - label: Category 2
                                                              value: c2
                                                            - label: Category 3
                                                              value: c3
                                                        value: c2   # Pre-select option by default for new items, if not set first option is pre-selected

                                            -
                                                title: '2. Personal information'
                                                css:
                                                    padding: 10px
                                                children:
                                                    -
                                                        type: label
                                                        title: 'Please give us some information about yourself.'
                                                    -
                                                        type: fieldSet
                                                        children:
                                                            -
                                                                type: input
                                                                title: Firstname
                                                                name: firstname
                                                                css:
                                                                    width: 30%
                                                                #focus: |
                                                                #    var inputField = el;
                                                                #    var form1 = inputField.closest(".data-manager-edit-data");
                                                                #    form1.css("background-color","#ffc0c0");
                                                                #blur: |
                                                                #    var inputField = el;
                                                                #    var form = inputField.closest(".modal-body");
                                                                #    form.css("background-color","transparent");                                                                                                       -
                                                            -
                                                                type: input
                                                                title: Lastname
                                                                name: lastname
                                                                # mandatory: '/^[0-9]+$/'
                                                                # mandatoryText: 'Only numbers'
                                                                # required: false
                                                                css:
                                                                    width: 30%
                                                            -
                                                                type: input
                                                                title: E-Mail
                                                                name: email
                                                                css:
                                                                    width: 40%
                                                    -
                                                       type: select
                                                       multiple: false
                                                       title: Interests
                                                       name: interests
                                                       options:
                                                           maps: maps
                                                           reading: reading
                                                           swimming: swimming
                                                           dancing: dancing
                                                           beer: beer
                                                           flowers: flowers
                                                    -
                                                        type: fieldSet
                                                        children:
                                                            -
                                                                type: date
                                                                title: 'favorite Date'
                                                                name: date_favorite
                                                                # not supported to predefine a value: 2024-04-01
                                                                attr:
                                                                    min: '2020-01-01'
                                                                    max: '2030-01-01'
                                                                css:
                                                                    width: 25%
                                                               # Highlight the year column when you edit the date-field
                                                               # and automatically insert the year from the date
                                                                change: |
                                                                    var inputField = el;
                                                                    var form = inputField.closest(".data-manager-edit-data");
                                                                    var yearField = form.find("[name='year']");
                                                                    var value = inputField.val()
                                                                    var year = value && value.match(/^\d{4}/)[0] || null;
                                                                    yearField.val(year);
                                                                    yearField.css("background-color","#ffc0c0");

                                                            -
                                                                type: input
                                                                title: Year
                                                                name: year
                                                                css:
                                                                    width: 25%

                                                            -
                                                                type: colorPicker
                                                                title: 'Fill Color - used for default style'
                                                                name: fill_color
                                                                value: "#ff00ff"

                                                    -
                                                        type: breakLine

                                                    -
                                                        type: fieldSet
                                                        children:
                                                            -
                                                                type: checkbox
                                                                title: 'public (this new object is public)'
                                                                name: public
                                                                value: true
                                                                # required: true makes no sense as checkbox can not be set false then
                                                                #required: false
                                                                css:
                                                                    width: 50%
                                                            -
                                                                type: text
                                                                text: |
                                                                      'Status checkbox: ' + data.public
                                                                css:
                                                                    width: 50%

                                                    -
                                                        type: file
                                                        name: file_reference
                                                        title: 'upload a file' # Label
                                                        text: File upload # button labeling
                                                        attr:
                                                          accept: 'image/png'
                                                    -   type: image
                                                        name: file_reference   # Link to input established by matching "name" value
                                                        #src: './uploads/mapbender_user/screenshot.png' # path to placeholder image
                                                        enlargeImage: true
                                                        imageCss:
                                                            width: 200px


                            line:
                                label: 'line digitizing'
                                maxResults: 1500
                                featureType:
                                    connection: geodata_db
                                    table: lines
                                    uniqueId: gid
                                    geomType: line
                                    geomField: geom
                                    srid: 4326
                                    filter: "st_isempty(geom) = false
                                             AND st_intersects(geom,st_geomfromtext('POLYGON((7.078768115095284 50.718742549359874,7.108512203024121 50.71922903890011,7.10792188122481 50.733883032109,7.078168524167035 50.733396290239824,7.078768115095284 50.718742549359874))',4326))"
                                    styleField: style
                                    # file upload location - customization per column on featureType (or dataStore) level
                                    #files:
                                    #  - field: file_reference
                                    #    path: /data/demo/mapbender_upload_lines/
                                allowDigitize: true # Allow geometry creation and editing (default true)
                                allowEditData: true # Allow attribute editing (default true)
                                allowDelete: true # Allow geometry deletion (default true)
                                allowCustomStyle: true  # only for geomType line and multi-/polygon needs styleField definition in featureType section
                                toolset:
                                    -
                                        type: drawLine
                                    -
                                        type: modifyFeature
                                    -
                                        type: moveFeature

                                popup:
                                    title: 'line test suite'
                                    width: 500px
                                searchType: currentExtent
                                styles:
                                    default:
                                        strokeWidth: 2
                                        strokeColor: "#0000ff"
                                        strokeOpacity: 0.6
                                        label: ${name}
                                        fontColor: "#0000ff"
                                        fontSize: 18
                                        fontFamily: 'Arial, Courier New, monospace'
                                        fontWeight: bold
                                        labelOutlineColor: white
                                        labelOutlineWidth: 1
                                        labelYOffset: -18
                                        labelXOffset: -18
                                    select:
                                        strokeWidth: 5
                                        strokeOpacity: 0.5
                                        strokeColor: "#b000b0"
                                        label: ${gid}
                                        fontColor: blue
                                        fontSize: 18
                                    unsaved:
                                        strokeWidth: 5
                                        strokeColor: "#ff0000"
                                        label: 'Neu - bitte speichern'
                                        fontColor: red
                                        fontSize: 18
                                tableFields:
                                    gid:
                                        label: Nr.
                                        width: 20%
                                    name:
                                        label: Name
                                        width: 80%
                                formItems:
                                    -   type: p
                                        text: This is an introductory paragraph.
                                    # Arrange inputs in Bootstrap grid row + columns
                                    -   type: div
                                        cssClass: row
                                        css:
                                            padding: 10px
                                        children:
                                            - type: input
                                              title: Input in left column
                                              name: firstname
                                              attr:
                                                  placeholder: Please add first name
                                              cssClass: col-xs-4 col-4
                                            - type: input
                                              title: Input in middle column
                                              name: lastname
                                              cssClass: col-xs-4 col-4
                                            - type: input
                                              name: email
                                              title: Input in right column
                                              cssClass: col-xs-4 col-4
                                    -
                                        type: tabs
                                        children:
                                          - title: 'Tab 1'
                                            children:
                                                -
                                                    type: label
                                                    title: 'Welcome to the digitize demo. Try the new Mapbender feature!'
                                          - title: 'Tab 2'
                                            children:
                                                -
                                                    type: label
                                                    title: 'Welcome to the digitize demo. Try the new Mapbender feature!'
                                                -
                                                    type: input
                                                    title: Name
                                                    name: name
                                                    mandatory: true
                                                    mandatoryText: 'Please give a name to the new object.'
                                                    infoText: 'Help: Please give a name to the new object.'
                                                -
                                                    type: select
                                                    title: Type
                                                    name: type
                                                    infoText: 'Help: Please choose a type...'
                                                    required: true
                                                    options:
                                                        - label: 'Please select a type...'
                                                          value: ''
                                                        - label: 'Type A'
                                                          value: 'A'
                                                        - label: 'Type B'
                                                          value: 'B'
                                                        - label: 'Type C'
                                                          value: 'C'
                                                        - label: 'Type D'
                                                          value: 'D'
                                                        - label: 'Type E'
                                                          value: 'E'
                                          - title: 'Tab 3'
                                            children:
                                                -
                                                    type: file
                                                    name: file_reference
                                                    title: 'upload a file'
                                                    attr:
                                                      accept: 'image/*'
                                                -   type: image
                                                    name: file_reference   # Link to input established by matching "name" value
                                                    src: ./uploads/mapbender_user/screenshot.png # path to placeholder image

                            polygon:
                                label: 'polygon digitizing'
                                maxResults: 1500
                                featureType:
                                    connection: geodata_db
                                    table: polygons
                                    uniqueId: gid
                                    geomType: polygon
                                    geomField: geom
                                    srid: 4326
                                    styleField: style
                                allowDelete: true
                                allowCustomStyle: true  # needs styleField definition in featureType section
                                allowCancelButton: true
                                allowDeleteByCancelNewGeometry: false
                                toolset:
                                    -
                                        type: drawPolygon
                                    -
                                        type: drawRectangle
                                    -
                                        type: drawDonut
                                    -
                                        type: drawEllipse
                                    -
                                        type: drawCircle
                                    -
                                        type: modifyFeature
                                    -
                                        type: moveFeature

                                popup:
                                    title: 'polygon test suite'
                                    width: 500px
                                searchType: currentExtent
                                pageLength: 10
                                tableFields:
                                    gid:
                                        label: Nr.
                                        width: 20%
                                    name:
                                        label: Name
                                        width: 80%
                                styles:
                                    default:
                                        strokeWidth: 2
                                        strokeColor: "#0000ff"
                                        strokeOpacity: 0.6
                                        label: ${name}
                                        fontColor: "#0000ff"
                                        fontSize: 18
                                        fontFamily: 'Arial, Courier New, monospace'
                                        fontWeight: bold
                                        labelOutlineColor: white
                                        labelOutlineWidth: 1
                                        labelYOffset: -18
                                        labelXOffset: -18
                                    select:
                                        strokeWidth: 5
                                        strokeOpacity: 0.5
                                        strokeColor: "#b000b0"
                                        label: ${gid}
                                        fontColor: blue
                                        fontSize: 18
                                    unsaved:
                                        strokeWidth: 5
                                        strokeColor: "#ff0000"
                                        label: 'Neu - bitte speichern'
                                        fontColor: red
                                        fontSize: 18
                                formItems:
                                    -
                                        type: label
                                        title: 'Welcome to the digitize demo. Try the new Mapbender feature!'
                                    -
                                        type: input
                                        title: Name
                                        mandatory: true
                                        name: name
                                        mandatoryText: 'Please give a name to the new object.'
                                        infoText: 'Help: Please give a name to the new object.'
                                    -
                                        type: select
                                        title: Type
                                        name: type
                                        infoText: 'Help: Please give a type to the new object.'
                                        required: true
                                        options:
                                            - label: 'Please select a type...'
                                              value: ''
                                        connection: geodata_db
                                        sql: "Select chr(a) || '-Type' as value , chr(a) as key FROM generate_series(65,70) as a order by a;"


                    layertree:
                        title: mb.core.layertree.class.title
                        class: Mapbender\CoreBundle\Element\Layertree
                        target: map
                        type: element
                        autoOpen: false
                        showBaseSource: true
                        layerRemove: true
                        menu: [opacity,zoomtolayer,metadata]
                    sketch:
                        class: Mapbender\CoreBundle\Element\Sketch
                        target: map
                        auto_activate: false

                    searchrouter:
                        target: map
                        timeoutFactor: 3
                        width: 700
                        height: 500
                        asDialog: false
                        class: Mapbender\CoreBundle\Element\SearchRouter                        
                        routes:
                            1-route:
                                title: Places
                                class: Mapbender\CoreBundle\Component\SQLSearchEngine  
                                class_options:
                                    connection: geodata_db
                                    relation: brd.qry_gn250_p_ortslage
                                    attributes:
                                        - gid
                                        - name
                                        - gemeinde
                                        - hoehe_ger
                                    geometry_attribute: geom
                                form:
                                    name:
                                        type: text
                                        options:
                                            required: false
                                            label: Name
                                            attr:
                                                data-autocomplete: 'on'
                                        compare: ilike
                                    gemeinde:
                                        type: text
                                        options:
                                            label: 'Commune'
                                            required: false
                                        compare: ilike
                                results:
                                    view: table
                                    count: true
                                    headers:
                                        name: Name
                                        gemeinde: Commune
                                        hoehe_ger: Height
                                    callback:
                                        event: click
                                        options:
                                            buffer: 1000
                                            minScale: null
                                            maxScale: null
                                    styleMap:
                                        default:
                                            strokeColor: '#8000FF'
                                            strokeWidth: 1
                                            strokeOpacity: 1
                                            fillColor: '#8000FF'
                                            fillOpacity: 0.8
                                            fillWidth: 6
                                        select:
                                            strokeColor: '#ff00ff'
                                            strokeWidth: 2
                                            strokeOpacity: 1
                                            fillColor: '#ff00ff'
                                            fillOpacity: 0.6
                                            fillWidth: 12
                                        temporary:
                                            strokeColor: '#00FFFF'
                                            strokeOpacity: 1
                                            strokeWidth: 2
                                            fillColor: '#00FFFF'
                                            fillWidth: 6
                                            fillOpacity: 0.6

                footer:
                    imprintButton:
                        title: Imprint & Contact
                        tooltip: Imprint & Contact
                        class: Mapbender\CoreBundle\Element\Button
                        label: true
                        click: https://mapbender.org/en/contact/

                    privacyButton:
                        title: Privacy-Policy
                        tooltip: Privacy-Policy
                        class: Mapbender\CoreBundle\Element\Button
                        label: true
                        click: http://mapbender.org/en/privacy-policy

                    activityindicator:
                        class: Mapbender\CoreBundle\Element\ActivityIndicator
                        title: mb.core.activityindicator.class.title
                        activityClass: mb-activity
                        ajaxActivityClass: mb-activity-ajax
                        tileActivityClass: mb-activity-tile
                        
                    coordinates:
                        class: Mapbender\CoreBundle\Element\CoordinatesDisplay
                        title: mb.core.coordinates.class.title
                        target: map
                        label: false
                        empty:  "x: - y: -"
                        prefix: "x: "
                        separator:  " y: "
                        
                    srs:
                        class: Mapbender\CoreBundle\Element\SrsSelector
                        title: mb.core.srsselector.class.title
                        tooltip: mb.core.srsselector.class.description
                        label: false
                        target: map
                        
                    scaleselector:
                        class: Mapbender\CoreBundle\Element\ScaleSelector
                        title: mb.core.scaleselector.class.title
                        tooltip: mb.core.scaleselector.class.description
                        label: false
                        target: map
                    applicationswitcher:
                        class: Mapbender\CoreBundle\Element\ApplicationSwitcher
                        applications: [mapbender_user, mapbender_user_basic]
                    copyrightButton:
                        title:  OpenStreetMap contributors
                        tooltip:  OpenStreetMap contributors
                        class: Mapbender\CoreBundle\Element\Button
                        label: true
                        click: https://www.openstreetmap.org/copyright
                        
                    HTML:
                        title: HTML-powered by Mapbender
                        class: Mapbender\CoreBundle\Element\HTMLElement
                        content: '<span style="color: #6FB536; font-weight:bold">powered by Mapbender</span>'
                        classes: html-element-inline
